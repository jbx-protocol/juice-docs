---
slug: adding-juicebox-treasury-tokens-to-amms
title: "Juicebox V2: 有利于添加金库代币 AMM 流动池的协议调整"
authors: [jango]
tags: [ecosystem]
---

SharkDAO, 使用 Juicebox 协议发展最快同时也最有望突破的一个项目，目前需要为其 Juicebox 金库代币创建 AMM 流动池以实现持币人价格的有机发现。大部分上了规模的 Juicebox 项目将来都会有这个需求。

SHARK 代币的价值不仅来源于存放在 Juicebox 合约里的 ETH，来源于 DAO 动用金库资金获得的那些 NFT，来源于 DAO 在支付平台费用的同时积累的 JBX 代币，可能最重要的是来源于项目里凝聚的极富创造力社区将带来的无限潜能。以上每一项资产的预期价值都是动态的，取决于每个个体的信心和风险偏好。这就需要一个比 Juicebox 协议更为灵活的做市机制和订单配对策略。

Juicebox 给 SHARK 代币的持有人一个有效筹款及扩张的途径，但没有给他们提供一个协调既有价值的办法，那是 AMM 的长处。SharkDAO 在未来很长的时间都会需要以上这两个功能。如果 Juicebox 希望成为初创项目规模化后的首选金库协议工具，它不仅需要理解现有机制加上代币流动池时的表现，还必须弄清楚进行哪些协议调整才能逐步弥补所有已知的市场缺陷。

### 当前的局限

目前 Juicebox 项目的金库不能配置最高代币供应量。协议一直向人们提供捐赠 ETH 并按当前筹款周期权重相应地获得金库代币的机会，这个权重是由折扣率的复合效应及当前配置的保留率共同决定的。

提醒一下，折扣率会在筹款周期更替之后降低每捐赠一个 ETH 铸造的代币数量，当前筹款周期 10% 的折扣率意味着下一周期捐赠 X 个 ETH 获得的代币数量将是当前周期捐赠同样数额 ETH 可获得代币数的 90%。而保留率则决定将会保留多少代币用于分配给预设的接收地址。

因此协议其实一直为某个项目代币进行定价，让他们主动增加代币供应量来满足需求，来换取筹集更多的 ETH。所以期望 AMM 上金库代币的市场价格超过协议的报价是不现实的，协议的报价一直会是代币价格的天花板。倘若二级市场价格高于协议价，就会出现明显的套利机会把价格拉回来。

但是会有一些人，他们过去用较低成本获得了金库代币，现在愿意以低于协议价卖出获利。随着筹款周期的发展及折扣率的复合作用，这一供应端的压力就会有机产生。至于需求端，人们寻求在二级市场获得比协议内更优惠的代币价格也是情理中事。如果绝大多数的交易活动发生在低于协议价格的二级市场，那么代币供应和资金募集将会在这个供需平衡慢慢减少。

项目怎样去选择获得这个平衡就成了一个大问题。是应该按自己的公平原则逐渐微调折扣率和保留率，把二级市场用于方便买卖双方交易，但同时限制其自然发现价格上限的潜力？还是应该把二级市场作为主要的公平指标，折扣率和保留率仅用于满足筹款需要？答案往往取决于社区的价值观。社区是否要在优先考虑现金流的同时做到自由开放、包容并蓄、进退有据？还是严格保护当前成员辛苦积攒的价值，将来的战略性募集或扩张仅限于增值的动机？再或者选择两者之间的平衡，以既定原则来指导决策？

对于希望扩张供应量来吸纳新资金和新社区成员的项目来说，Juicebox 的工具组合确实发挥了良好的作用。但有些项目期望保护既有价值并逐步组织更具战略性、目的更明确的筹款活动，复合折扣率和保留率这些机制在目前协议的框架之内不一定能起到非常好效果。

### 解决方案

解决方案可能很简单。

Juicebox 协议想要支持市场化驱动的项目，必须允许他们：

- 明确项目金库代币的供应上限，以及
- 允许项目自行决定每收到一个 ETH 要分发的金库代币数量。

在这些条件下，如果项目金库收到付款的时候代币供应量已经达到上限，就不会再相应铸造新的代币。否则的话，如果项目设置好一个预定的金库代币价格点，则会按这个价格来铸造新代币，不再按照之前周期的折扣率复合计算得到的当前筹款周期的权重。

这些工具允许项目本质上“暂停”发行新的金库代币，以及在任何时间节点以具体的价格开放供应一个定量的新代币。既有的保留率可以在这个模式下把新发行代币转到一些有时间限制的分配机制、质押激励池、项目的多签钱包等等。

加入这些参数确实会赋予项目更大的权力，这是一个需要引起注意的弊端。项目早期捐赠的人不能再确保他们的代币成本一定比未来周期的发行成本低，协议价格也可能会跟随项目方的意愿发生剧烈的变动。社区必须再三地确定他们项目的所有权（以一个 ERC-20 合约为凭据）由一个值得信赖的钱包来掌管，而且这个钱包愿意执行集体作出的各项决策。我对此并不太过担心，因为目前的实现在很大程度上已经是这个样子。

设置代币供应上限的另一个弊端是，这样会带来 DAO 与 DAO 及 匿名个人与 DAO 之间协同合作的一致性风险。举个例子，假设某人搭建了一个 NFT 市场，这个市场会自动把艺术品某个百分比的销售收入转到预先设置的接收地址，比方说 SharkDAO 的金库。如果 SharkDAO 设置了代币供应上限且已经到达这个上限，艺术品销售所得的 ETH 仍将转入项目金库，但艺术家却不能相应地获得任何 SHARK 代币。我同样不太担心这个弊端，因为在现行机制下，如果项目把保留率调至 100% 也会是同样的后果。每一个跟 Juicebox 项目合作的项目或艺术家应该始终明白，合作会存在变数 — 各种参数比率可能发生变化，因此优先与那些通过适当规则和社区参与来公开决策的可靠项目建立关系就显得尤为重要。

另一个要注意的细节：两个新参数的配置仅限于筹款周期配置才能进行调整 — 如果项目以固定时间的周期来运行，那么代币供应上限及权重覆盖参数的变更要等到新的周期开始才能生效。如果项目的筹款周期持续时间较长、重新配置投票制度更严苛，则项目的运营会更有可预见性，也会有更多的制衡。这样做可能还有一个后果，如果带供应上限的新周期配置交易已提交但尚未生效，当前无供应上限的周期就已经铸造出来超过这个上限的代币数量，就会出现实际代币供应量比配置的供应上限要高的情况。

我们正在草拟一个提案，准备把这两个新的属性实现到 Juicebox 生态内的 TerminalV2 合约里去。V2 合约部署并得到 DAO 的批准之后，目前在 TerminalV1 运行的项目将可以选择是否迁移过去。



***

加入 [JuiceboxDAO 的 Discord](https://discord.gg/qckstafRcs) 来参与这个讨论，在我们把这些附加项加入协议之前，提出你的观点和看法。
